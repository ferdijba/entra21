<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercicio L7E06</title>
    <style>
        body {
            background-color: rgb(133, 125, 120);
        }

        .lgd {
            color: aliceblue;
            font-size: 15pt;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }

        .lb-nomeAluno {
            padding: 5px;
            color: aliceblue;
            font-size: 13pt;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }

        #idNomeAluno {
            width: 523px;
        }

        .lb-end {
            padding: 5px;
            color: aliceblue;
            font-size: 13pt;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }

        #idEndereco {
            width: 500px;
        }

        .lb-mae {
            padding: 5px;
            color: aliceblue;
            font-size: 13pt;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }

        #idMae {
            width: 467px;
        }

        .lb-pai {
            padding: 5px;
            color: aliceblue;
            font-size: 13pt;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }

        #idPai {
            width: 478px;
        }

        .lb-fone {
            padding: 5px;
            color: aliceblue;
            font-size: 13pt;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }

        #idFone {
            width: 448px;
        }

        #idBtnInseir {
            margin-top: 10px;
            width: 100px;
            height: 25px;
            border-radius: 15px;
            border: none;
        }

        #idPesqAluno {
            width: 300px;

        }


        .lb-resultado {
            padding: 5px;
            color: rgb(121, 2, 2);
            font-size: 17pt;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            font-weight: bold;
        }


        table,
        th,
        td {
            border: 1px solid rgb(255, 255, 255);
            border-collapse: collapse;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            font-size: 12pt;
            margin: auto;
            padding: 8px;
            color: aliceblue;
        }
    </style>
</head>

<body>
    <form action="" method="get">
        <fieldset>
            <legend class="lgd">Dados do Aluno</legend>
            <div class="dv-aluno">

                <label class="lb-nomeAluno" for="idNomeAluno"> Nome:</label>
                <input type="text" id="idNomeAluno" autocomplete="off"><br>

                <label class="lb-end" for="nmEnder">Endereço:</label>
                <input type="text" id="idEndereco" autocomplete="off"><br>

                <label class="lb-mae" for="idNomeMaeAluno">Nome da Mãe:</label>
                <input type="text" id="idMae" autocomplete="off"><br>

                <label class="lb-pai" for="idNomePaiAluno">Nome do Pai:</label>
                <input type="text" id="idPai" autocomplete="off"><br>

                <label class="lb-fone" for="idTelefone">Telefone dos Pais:</label>
                <input type="number" id="idFone" autocomplete="off" placeholder="(xx)9999-9999"><br>
        </fieldset>

        <fieldset>
            <legend class="lgd">Notas do Aluno</legend>
            <div class="dv-aluno">
                <label class="lb-nomeAluno" for="idNota1"> Nota 1:</label>
                <input type="number" id="idNota1" autocomplete="off" maxlength="10"><br>

                <label class="lb-nomeAluno" for="idNota2"> Nota 2:</label>
                <input type="number" id="idNota2" autocomplete="off"><br>

                <label class="lb-nomeAluno" for="idNota3"> Nota 3:</label>
                <input type="number" id="idNota3" autocomplete="off"><br>

                <label class="lb-nomeAluno" for="idNota4"> Nota 4:</label>
                <input type="number" id="idNota4" autocomplete="off"><br>

                <input id="idBtnInseir" type="button" value="Inserir" onclick="inserirDados()">
        </fieldset>

        <fieldset>
            <legend class="lgd">Relatório dos Alunos</legend>
            <legend class="lgd">Pesquisar</legend>
            <div class="dv-aluno">
                <label class="lb-nomeAluno" for="idPesqAluno">Nome:</label>

                <input type="text" id="idPesqAluno"><br><br>

                <output id="outResultado" class="lb-resultado"></output><br>                
                
                <input id="idBtnInseir" type="button" value="Buscar" onclick="pesquisarAlunos()">
        </fieldset>

        <table id="idTabResultado">
            <tr>
                <th>Aluno</th>
                <th>Endereço</th>
                <th>Nome da Mãe</th>
                <th>Nome do Pai</th>
                <th>Telefone dos pais</th>
                <th>Nota1</th>
                <th>Nota2</th>
                <th>Nota3</th>
                <th>Nota4</th>
                <th>Média</th>
                <th>Situação</th>
            </tr>
        </table>

        <script>
            // Vetores
            var nomeAluno = []
            var endereco = []
            var nomePai = []
            var nomeMae = []
            var fone = []
            var nota1 = []
            var nota2 = []
            var nota3 = []
            var nota4 = []


            //Função para inserir os dados no Vetor
            function inserirDados() {
                nomeAluno.push(document.getElementById("idNomeAluno").value)
                endereco.push(document.getElementById("idEndereco").value)
                nomeMae.push(document.getElementById("idMae").value)
                nomePai.push(document.getElementById("idPai").value)
                fone.push(document.getElementById("idFone").value)
                nota1.push(Number(document.getElementById("idNota1").value))
                nota2.push(Number(document.getElementById("idNota2").value))
                nota3.push(Number(document.getElementById("idNota3").value))
                nota4.push(Number(document.getElementById("idNota4").value))
                console.log(nomeAluno, endereco, nomeMae, nomePai, fone)
                limpaCampos()
            }

            //Função para limpar os campos
            function limpaCampos() {
                document.getElementById("idNomeAluno").value = ""
                document.getElementById("idEndereco").value = ""
                document.getElementById("idMae").value = ""
                document.getElementById("idPai").value = ""
                document.getElementById("idFone").value = ""
                document.getElementById("idNota1").value = ""
                document.getElementById("idNota2").value = ""
                document.getElementById("idNota3").value = ""
                document.getElementById("idNota4").value = ""
            }


            // funcao para mostrar cadastro de alunos e situacao
            function pesquisarAlunos() {
                let media = 0
                let texto
                let pesquisar = document.querySelector("#idPesqAluno").value
                let out = document.querySelector("#outResultado")
                let out2 = document.querySelector("#outResultado2")
                let tabelaResultados = document.getElementById("idTabResultado")

                for (let i = 0; i < nomeAluno.length; i++) {

                    if (pesquisar == nomeAluno[i]) {
                        media = ((nota1[i] + nota2[i] + nota3[i] + nota4[i]) / 4).toFixed(1)

                        if (media >= 7) {

                            let td = tabelaResultados.insertRow()
                            let tdNome = tr.insertCell()
                            let tdEnd = tr.insertCell()
                            let tdNomePai = tr.insertCell()
                            let tdNomeMae = tr.insertCell()
                            let tdTel = tr.insertCell()
                            let tdNota1 = tr.insertCell()
                            let tdNota2 = tr.insertCell()
                            let tdNota3 = tr.insertCell()
                            let tdNota4 = tr.insertCell()
                            let tdMedia = tr.insertCell()
                            let tdSituacao = tr.insertCell()

                            tdNome.innerText = this.nomeAluno[i]
                            tdEnd.innerText = this.endereco[i]
                            tdNomePai.innerText = this.nomePai[i]
                            tdNomeMae.innerText = this.nomeMae[i]
                            tdTel.innerText = this.fone[i]
                            tdNota1.innerText = this.nota1[i]
                            tdNota2.innerText = this.nota2[i]
                            tdNota3.innerText = this.nota3[i]
                            tdNota4.innerText = this.nota4[i]
                            tdMedia.innerText = media
                            tdSituacao.innerText = "Aprovado"
                        } else {

                            let tr = tabelaResultados.insertRow()
                            let tdNome = tr.insertCell()
                            let tdEnd = tr.insertCell()
                            let tdNomePai = tr.insertCell()
                            let tdNomeMae = tr.insertCell()
                            let tdTel = tr.insertCell()
                            let tdNota1 = tr.insertCell()
                            let tdNota2 = tr.insertCell()
                            let tdNota3 = tr.insertCell()
                            let tdNota4 = tr.insertCell()
                            let tdMedia = tr.insertCell()
                            let tdSituacao = tr.insertCell()

                            tdNome.innerText = this.nomeAluno[i]
                            tdEnd.innerText = this.endereco[i]
                            tdNomePai.innerText = this.nomePai[i]
                            tdNomeMae.innerText = this.nomeMae[i]
                            tdTel.innerText = this.fone[i]
                            tdNota1.innerText = this.nota1[i]
                            tdNota2.innerText = this.nota2[i]
                            tdNota3.innerText = this.nota3[i]
                            tdNota4.innerText = this.nota4[i]
                            tdMedia.innerText = this.media
                            tdSituacao.innerText = "Reprovado"
                        }
                    } else {
                        out.value = "Aluno não encontrado!"
                    }
                }
            }



        </script>

    </form>

</body>

</html>